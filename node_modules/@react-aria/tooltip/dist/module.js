import {filterDOMProps as $6zZKe$filterDOMProps, mergeProps as $6zZKe$mergeProps, useId as $6zZKe$useId} from "@react-aria/utils";
import {useHover as $6zZKe$useHover, getInteractionModality as $6zZKe$getInteractionModality, isFocusVisible as $6zZKe$isFocusVisible, usePress as $6zZKe$usePress} from "@react-aria/interactions";
import {useRef as $6zZKe$useRef, useEffect as $6zZKe$useEffect} from "react";
import {useFocusable as $6zZKe$useFocusable} from "@react-aria/focus";

function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}
var $d9a216fc29ad9bb6$exports = {};

$parcel$export($d9a216fc29ad9bb6$exports, "useTooltip", () => $d9a216fc29ad9bb6$export$1c4b08e0eca38426);


function $d9a216fc29ad9bb6$export$1c4b08e0eca38426(props, state) {
    let domProps = $6zZKe$filterDOMProps(props, {
        labelable: true
    });
    let { hoverProps: hoverProps  } = $6zZKe$useHover({
        onHoverStart: ()=>{
            return state === null || state === void 0 ? void 0 : state.open(true);
        },
        onHoverEnd: ()=>{
            return state === null || state === void 0 ? void 0 : state.close();
        }
    });
    return {
        tooltipProps: $6zZKe$mergeProps(domProps, hoverProps, {
            role: 'tooltip'
        })
    };
}


var $7203085f153208e4$exports = {};

$parcel$export($7203085f153208e4$exports, "useTooltipTrigger", () => $7203085f153208e4$export$a6da6c504e4bba8b);





function $7203085f153208e4$export$a6da6c504e4bba8b(props, state, ref) {
    let { isDisabled: isDisabled , trigger: trigger  } = props;
    let tooltipId = $6zZKe$useId();
    let isHovered = $6zZKe$useRef(false);
    let isFocused = $6zZKe$useRef(false);
    let handleShow = ()=>{
        if (isHovered.current || isFocused.current) state.open(isFocused.current);
    };
    let handleHide = (immediate)=>{
        if (!isHovered.current && !isFocused.current) state.close(immediate);
    };
    $6zZKe$useEffect(()=>{
        let onKeyDown = (e)=>{
            if (ref && ref.current) // Escape after clicking something can give it keyboard focus
            // dismiss tooltip on esc key press
            {
                if (e.key === 'Escape') state.close(true);
            }
        };
        if (state.isOpen) {
            document.addEventListener('keydown', onKeyDown, true);
            return ()=>{
                document.removeEventListener('keydown', onKeyDown, true);
            };
        }
    }, [
        ref,
        state
    ]);
    let onHoverStart = ()=>{
        if (trigger === 'focus') return;
        // In chrome, if you hover a trigger, then another element obscures it, due to keyboard
        // interactions for example, hover will end. When hover is restored after that element disappears,
        // focus moves on for example, then the tooltip will reopen. We check the modality to know if the hover
        // is the result of moving the mouse.
        if ($6zZKe$getInteractionModality() === 'pointer') isHovered.current = true;
        else isHovered.current = false;
        handleShow();
    };
    let onHoverEnd = ()=>{
        if (trigger === 'focus') return;
        // no matter how the trigger is left, we should close the tooltip
        isFocused.current = false;
        isHovered.current = false;
        handleHide();
    };
    let onPressStart = ()=>{
        // no matter how the trigger is pressed, we should close the tooltip
        isFocused.current = false;
        isHovered.current = false;
        handleHide(true);
    };
    let onFocus = ()=>{
        let isVisible = $6zZKe$isFocusVisible();
        if (isVisible) {
            isFocused.current = true;
            handleShow();
        }
    };
    let onBlur = ()=>{
        isFocused.current = false;
        isHovered.current = false;
        handleHide(true);
    };
    let { hoverProps: hoverProps  } = $6zZKe$useHover({
        isDisabled: isDisabled,
        onHoverStart: onHoverStart,
        onHoverEnd: onHoverEnd
    });
    let { pressProps: pressProps  } = $6zZKe$usePress({
        onPressStart: onPressStart
    });
    let { focusableProps: focusableProps  } = $6zZKe$useFocusable({
        isDisabled: isDisabled,
        onFocus: onFocus,
        onBlur: onBlur
    }, ref);
    return {
        triggerProps: {
            'aria-describedby': state.isOpen ? tooltipId : undefined,
            ...$6zZKe$mergeProps(focusableProps, hoverProps, pressProps)
        },
        tooltipProps: {
            id: tooltipId
        }
    };
}




export {$d9a216fc29ad9bb6$export$1c4b08e0eca38426 as useTooltip, $7203085f153208e4$export$a6da6c504e4bba8b as useTooltipTrigger};
//# sourceMappingURL=module.js.map
