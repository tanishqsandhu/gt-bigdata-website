var $buLjC$reactariaselection = require("@react-aria/selection");
var $buLjC$reactariafocus = require("@react-aria/focus");
var $buLjC$react = require("react");
var $buLjC$reactariautils = require("@react-aria/utils");
var $buLjC$reactariai18n = require("@react-aria/i18n");

function $parcel$exportWildcard(dest, source) {
  Object.keys(source).forEach(function(key) {
    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {
      return;
    }

    Object.defineProperty(dest, key, {
      enumerable: true,
      get: function get() {
        return source[key];
      }
    });
  });

  return dest;
}
function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}
var $89ebbca46b589799$exports = {};

$parcel$export($89ebbca46b589799$exports, "useTab", () => $89ebbca46b589799$export$fdf4756d5b8ef90a);
const $818d4bbb9201cea8$export$c5f62239608282b6 = new WeakMap();
function $818d4bbb9201cea8$export$567fc7097e064344(state, key, role) {
    if (typeof key === 'string') key = key.replace(/\s+/g, '');
    let baseId = $818d4bbb9201cea8$export$c5f62239608282b6.get(state);
    return `${baseId}-${role}-${key}`;
}



function $89ebbca46b589799$export$fdf4756d5b8ef90a(props, state, ref) {
    let { key: key , isDisabled: propsDisabled  } = props;
    let { selectionManager: manager , selectedKey: selectedKey  } = state;
    let isSelected = key === selectedKey;
    let isDisabled = propsDisabled || state.disabledKeys.has(key);
    let { itemProps: itemProps  } = $buLjC$reactariaselection.useSelectableItem({
        selectionManager: manager,
        key: key,
        ref: ref,
        isDisabled: isDisabled
    });
    let tabId = $818d4bbb9201cea8$export$567fc7097e064344(state, key, 'tab');
    let tabPanelId = $818d4bbb9201cea8$export$567fc7097e064344(state, key, 'tabpanel');
    let { tabIndex: tabIndex  } = itemProps;
    return {
        tabProps: {
            ...itemProps,
            id: tabId,
            'aria-selected': isSelected,
            'aria-disabled': isDisabled || undefined,
            'aria-controls': isSelected ? tabPanelId : undefined,
            tabIndex: isDisabled ? undefined : tabIndex,
            role: 'tab'
        }
    };
}


var $6e4089dd984c6897$exports = {};

$parcel$export($6e4089dd984c6897$exports, "useTabPanel", () => $6e4089dd984c6897$export$fae0121b5afe572d);




function $6e4089dd984c6897$export$fae0121b5afe572d(props, state, ref) {
    let [tabIndex, setTabIndex] = $buLjC$react.useState(0);
    // The tabpanel should have tabIndex=0 when there are no tabbable elements within it.
    // Otherwise, tabbing from the focused tab should go directly to the first tabbable element
    // within the tabpanel.
    $buLjC$reactariautils.useLayoutEffect(()=>{
        if (ref === null || ref === void 0 ? void 0 : ref.current) {
            let update = ()=>{
                // Detect if there are any tabbable elements and update the tabIndex accordingly.
                let walker = $buLjC$reactariafocus.getFocusableTreeWalker(ref.current, {
                    tabbable: true
                });
                setTabIndex(walker.nextNode() ? undefined : 0);
            };
            update();
            // Update when new elements are inserted, or the tabIndex/disabled attribute updates.
            let observer = new MutationObserver(update);
            observer.observe(ref.current, {
                subtree: true,
                childList: true,
                attributes: true,
                attributeFilter: [
                    'tabIndex',
                    'disabled'
                ]
            });
            return ()=>{
                observer.disconnect();
            };
        }
    }, [
        ref
    ]);
    const id = $818d4bbb9201cea8$export$567fc7097e064344(state, state === null || state === void 0 ? void 0 : state.selectedKey, 'tabpanel');
    const tabPanelProps = $buLjC$reactariautils.useLabels({
        ...props,
        id: id,
        'aria-labelledby': $818d4bbb9201cea8$export$567fc7097e064344(state, state === null || state === void 0 ? void 0 : state.selectedKey, 'tab')
    });
    return {
        tabPanelProps: $buLjC$reactariautils.mergeProps(tabPanelProps, {
            tabIndex: tabIndex,
            role: 'tabpanel',
            'aria-describedby': props['aria-describedby'],
            'aria-details': props['aria-details']
        })
    };
}


var $772c13a2b24fa2ac$exports = {};

$parcel$export($772c13a2b24fa2ac$exports, "useTabList", () => $772c13a2b24fa2ac$export$773e389e644c5874);



class $4dce8c7e6d6eaebd$export$15010ca3c1abe90b {
    getKeyLeftOf(key) {
        if (this.flipDirection) return this.getNextKey(key);
        else {
            if (this.orientation === 'horizontal') return this.getPreviousKey(key);
            return null;
        }
    }
    getKeyRightOf(key) {
        if (this.flipDirection) return this.getPreviousKey(key);
        else {
            if (this.orientation === 'horizontal') return this.getNextKey(key);
            return null;
        }
    }
    getKeyAbove(key) {
        if (this.orientation === 'vertical') return this.getPreviousKey(key);
        return null;
    }
    getKeyBelow(key) {
        if (this.orientation === 'vertical') return this.getNextKey(key);
        return null;
    }
    getFirstKey() {
        let key = this.collection.getFirstKey();
        if (this.disabledKeys.has(key)) key = this.getNextKey(key);
        return key;
    }
    getLastKey() {
        let key = this.collection.getLastKey();
        if (this.disabledKeys.has(key)) key = this.getPreviousKey(key);
        return key;
    }
    getNextKey(key) {
        do {
            key = this.collection.getKeyAfter(key);
            if (key == null) key = this.collection.getFirstKey();
        }while (this.disabledKeys.has(key))
        return key;
    }
    getPreviousKey(key) {
        do {
            key = this.collection.getKeyBefore(key);
            if (key == null) key = this.collection.getLastKey();
        }while (this.disabledKeys.has(key))
        return key;
    }
    constructor(collection, direction, orientation, disabledKeys = new Set()){
        this.collection = collection;
        this.flipDirection = direction === 'rtl' && orientation === 'horizontal';
        this.orientation = orientation;
        this.disabledKeys = disabledKeys;
    }
}




function $772c13a2b24fa2ac$export$773e389e644c5874(props, state, ref) {
    let { orientation: orientation = 'horizontal' , keyboardActivation: keyboardActivation = 'automatic'  } = props;
    let { collection: collection , selectionManager: manager , disabledKeys: disabledKeys  } = state;
    let { direction: direction  } = $buLjC$reactariai18n.useLocale();
    let delegate = $buLjC$react.useMemo(()=>new $4dce8c7e6d6eaebd$export$15010ca3c1abe90b(collection, direction, orientation, disabledKeys)
    , [
        collection,
        disabledKeys,
        orientation,
        direction
    ]);
    let { collectionProps: collectionProps  } = $buLjC$reactariaselection.useSelectableCollection({
        ref: ref,
        selectionManager: manager,
        keyboardDelegate: delegate,
        selectOnFocus: keyboardActivation === 'automatic',
        disallowEmptySelection: true,
        scrollRef: ref
    });
    // Compute base id for all tabs
    let tabsId = $buLjC$reactariautils.useId();
    $818d4bbb9201cea8$export$c5f62239608282b6.set(state, tabsId);
    let tabListLabelProps = $buLjC$reactariautils.useLabels({
        ...props,
        id: tabsId
    });
    return {
        tabListProps: {
            ...$buLjC$reactariautils.mergeProps(collectionProps, tabListLabelProps),
            role: 'tablist',
            'aria-orientation': orientation,
            tabIndex: undefined
        }
    };
}


$parcel$exportWildcard(module.exports, $89ebbca46b589799$exports);
$parcel$exportWildcard(module.exports, $6e4089dd984c6897$exports);
$parcel$exportWildcard(module.exports, $772c13a2b24fa2ac$exports);


//# sourceMappingURL=main.js.map
